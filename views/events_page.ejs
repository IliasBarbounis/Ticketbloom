<html lang="en">
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
    <link rel=”stylesheet” href=”https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css”>
    <link rel="stylesheet" href="css/events_page_styles.css">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Artistic Events</title>
    
</head>
<body style="background-color:#122f69;" >
    
    
        <div class="container">
          
            <div class="navbar">
              <a href="/" class="logo">Ticketbloom</a>
              
              <nav>
                <ul id="menuList" ng-app ng-init="isLoggedIn = <%=in_session %>">
                  
                    <div id="parent">
                          <div id="right">
                            <div ng-hide = "isLoggedIn">
                              
                                <li><a href="/login" class="rb">Sign In</a> </li>
                                <li><a href="/register" class="rb" >Register</a></li>
                                <li><a href="/my_profile" class="rb">My Profile</a></li>
                                <li><a href="/about" class="rb">About</a></li>
                          
                                </div>
                            
                            <div ng-show = "isLoggedIn">
                            
                                <li><a href="/my_profile" class="rb">My Profile</a></li>
                                <li><a href="/about" class="rb">About</a></li>
                                <li><a href="/logout" class="rb">Logout</a></li>
                            
                            </div>
                          
                          
                        </div>   
                    </div>         
                </ul>
                
                
              </nav>
              
              <img src="/general_images/menu.png" class="menu-icon" 
              onclick="togglemenu()">
            </div>
            <div class="events">
              <form action="/search" method="post">
                <div class="search-container">
                  <input type="text" name="search" placeholder="Event Title">
                  <button type="submit">Search</button>
              </form>
              </div>

              
                <% data.forEach((item) => { %>
                  <div class="event"> 
                    <img src="data:image/<%=item.imageMin.contentType%>;base64,<%=item.imageMin.toString('base64')%>"/>
                    <br><br>
                    <h3 class="event_date"><%= item.date %></h3>
                    <a href="/booking_page?event=<%= item.eventID %>" class="event_title"><%= item.title %></a>
                    <br><br>
                  </div>
                <% }); %>
              
              
            </div>

          </div> 

          <script>
            var menuList = document.getElementById("menuList");
    
            menuList.style.maxHeight = "0px";   
    
            function togglemenu(){
                if(menuList.style.maxHeight == "0px"){
                    menuList.style.maxHeight = "200px";
                }
                else{
                    menuList.style.maxHeight = "0px";
                }
            }
        </script>
    <footer>
        <a href="https://www.ds.unipi.gr/en/home-en/" class="address">2023 © Department of Digital Systems</a>
    </footer>
    
</body>
</html>


